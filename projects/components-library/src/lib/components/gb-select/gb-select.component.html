<label
  class="text-dark mb-[10px] block text-base font-medium text-gb-gray-dark-950"
  [attr.data-test]="identity() + '-gb-label'"
>
  {{ label() }}
</label>
<div class="relative cursor-pointer">
  @if (icon()) {
    <ion-icon
      [name]="icon()"
      class="absolute left-4 top-1/2 -translate-y-1/2"
      color="medium"
      style="z-index: 100"
      (click)="openSelect()"
    />
  }
  <select
    (click)="openSelect()"
    onmousedown="(function(e){ e.preventDefault(); })(event, this)"
    [class]="classes()"
    [id]="identity()"
    [attr.data-test]="identity() + '-gb-select'"
  >
    <option>
      {{ returnPlaceholder().label }}
    </option>
  </select>
  <div
    [class]="dropdownClasses()"
    class="shadow-1 absolute left-0 z-40 mt-2 w-full rounded-md bg-white py-[10px] transition-all"
    style="max-height: 150px; overflow: scroll"
  >
    @for (option of options(); track option; let idx = $index) {
      <div
        class="hover:bg-gb-blue-500 hover:text-gb-gray-light-400 block cursor-pointer px-5 py-2 text-base text-gb-text-primary"
        [id]="identity() + '-option-' + idx"
        [attr.data-test]="identity() + '-gb-option-' + idx"
        (click)="selectOption(option.value)"
      >
        {{ option.label }}
      </div>
    }
  </div>
  <ion-icon
    [name]="selectChevronIcon()"
    class="absolute right-4 top-1/2 -translate-y-1/2"
    color="medium"
    (click)="openSelect()"
  />
</div>
